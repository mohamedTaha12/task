"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[354],{354:(se,Z,i)=>{i.r(Z),i.d(Z,{ManageUsersModule:()=>te});var p=i(6814),m=i(6223),A=i(9862),C=i(1896),f=i(1476),T=i(8816),e=i(5879),M=i(9347),x=i(8898),g=i(5219),b=i(2296),_=i(5195),k=i(617),w=i(2032),v=i(4170),d=i(5313),h=i(7988),U=i(321);function S(t,n){1&t&&(e.TgZ(0,"th",30),e._uU(1," username "),e.qZA())}function D(t,n){if(1&t&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.username," ")}}function N(t,n){1&t&&(e.TgZ(0,"th",30),e._uU(1,"email "),e.qZA())}function O(t,n){if(1&t&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.email," ")}}function B(t,n){1&t&&(e.TgZ(0,"th",30),e._uU(1," assignedTasks "),e.qZA())}function Y(t,n){if(1&t&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.assignedTasks," ")}}function q(t,n){1&t&&(e.TgZ(0,"th",30),e._uU(1," status "),e.qZA())}function J(t,n){if(1&t&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.Oqu(o.status)}}function F(t,n){1&t&&(e.TgZ(0,"th",32),e._uU(1,"Action Menu"),e.qZA())}function I(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"td",33)(1,"button",34)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,35)(6,"button",36),e.NdJ("click",function(){const r=e.CHM(o).$implicit,c=e.oxw();return e.KtG(c.changeStatus(r))}),e.TgZ(7,"mat-icon"),e._uU(8,"autorenew"),e.qZA(),e.TgZ(9,"span",37),e._uU(10,"Change status"),e.qZA()(),e.TgZ(11,"button",36),e.NdJ("click",function(){const r=e.CHM(o).$implicit,c=e.oxw();return e.KtG(c.deleteUser(r))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span",37),e._uU(15,"Delete"),e.qZA()()()()}if(2&t){const o=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",o)}}function V(t,n){1&t&&e._UZ(0,"tr",38)}function Q(t,n){1&t&&e._UZ(0,"tr",39)}function P(t,n){1&t&&(e.TgZ(0,"tr",40)(1,"th"),e._uU(2,"username"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"email"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"assignedTasks"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"status"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Actions"),e.qZA()())}function E(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"tr",41)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"button",34)(11,"mat-icon"),e._uU(12,"more_vert"),e.qZA()(),e.TgZ(13,"mat-menu",null,35)(15,"button",36),e.NdJ("click",function(){const r=e.CHM(o).$implicit,c=e.oxw();return e.KtG(c.changeStatus(r))}),e.TgZ(16,"mat-icon"),e._uU(17,"autorenew"),e.qZA(),e.TgZ(18,"span",37),e._uU(19,"Change status"),e.qZA()(),e.TgZ(20,"button",42)(21,"mat-icon"),e._uU(22,"delete"),e.qZA(),e.TgZ(23,"span",43),e.NdJ("click",function(){const r=e.CHM(o).$implicit,c=e.oxw();return e.KtG(c.deleteUser(r))}),e._uU(24,"Delete"),e.qZA()()()()()}if(2&t){const o=n.$implicit,s=e.MAs(14);e.xp6(2),e.Oqu(null==o?null:o.username),e.xp6(2),e.Oqu(null==o?null:o.email),e.xp6(2),e.Oqu(null==o?null:o.assignedTasks),e.xp6(2),e.hij(" ",null==o?null:o.status," "),e.xp6(2),e.Q6J("matMenuTriggerFor",s)}}const H=function(){return[5,10,20]},L=function(){return{"min-width":"50rem"}},R=[{path:"",component:(()=>{var t;class n{constructor(s,a,r,c,u){this.dialog=s,this.fb=a,this.usersService=r,this.confirmationService=c,this.messageService=u,this.displayedColumns=["username","email","assignedTasks","status","actions"],this.filterations={},this.users=[{name:"Mohamed",id:"651b9ee7db0a1cd83fafbccd"},{name:"Omar",id:"651b9f0edb0a1cd83fafbcd0"}],this.status=[{name:"Complete",id:1},{name:"In-Progress",id:2}]}ngOnInit(){this.getAllUsers()}createform(){this.tasksFilter=this.fb.group({title:[""],userId:[""],fromDate:[""],toDate:[""]})}getAllUsers(){this.usersService.getAllUsers().subscribe(s=>{console.log(s),this.dataSource=s.users})}changeStatus(s){0==s.assignedTasks?this.usersService.changeStatus({id:s._id,status:s.status}).subscribe(r=>{this.getAllUsers(),this.messageService.add({severity:"success",summary:"Success",detail:"Staus changed successfuly"})}):this.messageService.add({severity:"error",summary:"Error",detail:"This user Already have "+s.assignedTasks+" Tasks And You Can Not Make him In-Active"})}deleteUser(s){const r=new T.E("Confirm Action","Are you sure that you want to Delete user "+s.username+" ?");this.dialog.open(T.x,{maxWidth:"400px",data:r}).afterClosed().subscribe(u=>{u&&this.usersService.deleteUser(s._id).subscribe(y=>{this.getAllUsers(),this.messageService.add({severity:"success",summary:"Success",detail:"User deleted successfuly"})})})}}return(t=n).\u0275fac=function(s){return new(s||t)(e.Y36(M.uw),e.Y36(m.qu),e.Y36(x.f),e.Y36(g.YP),e.Y36(g.ez))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-users"]],viewQuery:function(s,a){if(1&s&&e.Gf(f.NW,5),2&s){let r;e.iGM(r=e.CRH())&&(a.paginator=r.first)}},decls:44,vars:8,consts:[[1,"d-flex","justify-content-between","table1","border-bottom","mb-3","py-3"],[1,"fs-3","fw-bold",2,"color","#3d4371"],[1,"table2","mb-3",2,"display","none"],[1,"row","d-flex","justify-content-between"],[1,"col-7","d-flex","text-center"],[1,"col-4","text-center"],[1,"row","mt-3"],["appearance","outline",1,"w-100"],["matInput","","placeholder","title search"],[1,"mat-elevation-z8"],["mat-table","",1,"table1",3,"dataSource"],["matColumnDef","username"],["style","color: #fff;","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","fw-bold",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","assignedTasks"],["matColumnDef","status"],["matColumnDef","actions"],["style","color: #fff;","mat-header-cell","","class","w-20",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"table1",3,"pageSizeOptions"],[1,"listBox"],[1,""],[1,"table2",2,"display","none"],[1,"m-3","modal-title","fw-bold",2,"color","#3d4371"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["mat-header-cell","",2,"color","#fff"],["mat-cell","",1,"fw-bold"],["mat-header-cell","",1,"w-20",2,"color","#fff"],["mat-cell",""],["mat-button","",1,"fw-bold",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"fw-bold","text-muted"],["mat-header-row",""],["mat-row",""],[1,"table2-header","rounded-3"],[1,"table2-body","fw-bold"],["mat-menu-item",""],[1,"fw-bold","text-muted",3,"click"]],template:function(s,a){1&s&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e._uU(3,"All-Users list"),e.qZA()(),e.TgZ(4,"div",2)(5,"div",3),e._UZ(6,"div",4)(7,"div",5),e.qZA()(),e.TgZ(8,"form")(9,"div",6)(10,"div")(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Search"),e.qZA(),e._UZ(14,"input",8),e.qZA()()()(),e.TgZ(15,"div",9)(16,"table",10),e.ynx(17,11),e.YNc(18,S,2,0,"th",12),e.YNc(19,D,2,1,"td",13),e.BQk(),e.ynx(20,14),e.YNc(21,N,2,0,"th",12),e.YNc(22,O,2,1,"td",13),e.BQk(),e.ynx(23,15),e.YNc(24,B,2,0,"th",12),e.YNc(25,Y,2,1,"td",13),e.BQk(),e.ynx(26,16),e.YNc(27,q,2,0,"th",12),e.YNc(28,J,2,1,"td",13),e.BQk(),e.ynx(29,17),e.YNc(30,F,2,0,"th",18),e.YNc(31,I,16,1,"td",19),e.BQk(),e.YNc(32,V,1,0,"tr",20),e.YNc(33,Q,1,0,"tr",21),e.qZA(),e._UZ(34,"mat-paginator",22),e.qZA(),e.TgZ(35,"div",23)(36,"mat-card",24)(37,"mat-card-content")(38,"div",25)(39,"h1",26),e._uU(40,"All-Users list"),e.qZA(),e.TgZ(41,"p-table",27),e.YNc(42,P,11,0,"ng-template",28),e.YNc(43,E,25,5,"ng-template",29),e.qZA()()()()()()),2&s&&(e.xp6(16),e.Q6J("dataSource",a.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,H)),e.xp6(7),e.Q6J("value",a.dataSource)("tableStyle",e.DdM(7,L)))},dependencies:[b.lW,_.a8,_.dn,k.Hw,w.Nt,v.KE,v.hX,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,m._Y,m.JL,m.F,f.NW,h.VK,h.OP,h.p6,g.jx,U.iA],styles:["button[_ngcontent-%COMP%]{color:#fff;margin:0 5px}button.addTask[_ngcontent-%COMP%]{background-color:#3d4371;color:#fff;padding:2px 23px;font-size:20px}[_nghost-%COMP%]     table thead{background-color:#3d4371!important}[_nghost-%COMP%]     table thead .mat-header-cell{color:#fff}.w-20[_ngcontent-%COMP%]{width:20%!important}.table2-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#3d4371;color:#fff}@media only screen and (max-width: 880px){.table1[_ngcontent-%COMP%]{display:none!important}.table2[_ngcontent-%COMP%]{display:block!important}}"]}),n})()}];let j=(()=>{var t;class n{}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[C.Bz.forChild(R),C.Bz]}),n})();var $=i(1885),z=i(1494),G=i(1122),l=i(1180);const K=function(t,n,o){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":t,"p-disabled":n,"p-focus":o}},W={provide:m.JU,useExisting:(0,e.Gpc)(()=>X),multi:!0};let X=(()=>{var t;class n{constructor(s){(0,l.Z)(this,"cd",void 0),(0,l.Z)(this,"style",void 0),(0,l.Z)(this,"styleClass",void 0),(0,l.Z)(this,"tabindex",void 0),(0,l.Z)(this,"inputId",void 0),(0,l.Z)(this,"name",void 0),(0,l.Z)(this,"disabled",void 0),(0,l.Z)(this,"readonly",void 0),(0,l.Z)(this,"trueValue",!0),(0,l.Z)(this,"falseValue",!1),(0,l.Z)(this,"ariaLabel",void 0),(0,l.Z)(this,"ariaLabelledBy",void 0),(0,l.Z)(this,"onChange",new e.vpe),(0,l.Z)(this,"modelValue",!1),(0,l.Z)(this,"focused",!1),(0,l.Z)(this,"onModelChange",()=>{}),(0,l.Z)(this,"onModelTouched",()=>{}),this.cd=s}onClick(s,a){!this.disabled&&!this.readonly&&(s.preventDefault(),this.toggle(s),a.focus())}onInputChange(s){this.readonly||this.updateModel(s,s.target.checked)}toggle(s){this.updateModel(s,!this.checked())}updateModel(s,a){this.modelValue=a?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:s,checked:this.modelValue})}onFocus(s){this.focused=!0}onBlur(s){this.focused=!1,this.onModelTouched()}writeValue(s){this.modelValue=s,this.cd.markForCheck()}registerOnChange(s){this.onModelChange=s}registerOnTouched(s){this.onModelTouched=s}setDisabledState(s){this.disabled=s,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}}return t=n,(0,l.Z)(n,"\u0275fac",function(s){return new(s||t)(e.Y36(e.sBO))}),(0,l.Z)(n,"\u0275cmp",e.Xpm({type:t,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[e._Bn([W])],decls:5,vars:16,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(s,a){if(1&s){const r=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(u){e.CHM(r);const y=e.MAs(3);return e.KtG(a.onClick(u,y))}),e.TgZ(1,"div",1)(2,"input",2,3),e.NdJ("change",function(u){return a.onInputChange(u)})("focus",function(u){return a.onFocus(u)})("blur",function(u){return a.onBlur(u)}),e.qZA()(),e._UZ(4,"span",4),e.qZA()}2&s&&(e.Tol(a.styleClass),e.Q6J("ngClass",e.kEZ(12,K,a.checked(),a.disabled,a.focused))("ngStyle",a.style),e.xp6(2),e.Q6J("checked",a.checked())("disabled",a.disabled),e.uIk("aria-label",a.ariaLabel)("id",a.inputId)("name",a.name)("tabindex",a.tabindex)("aria-checked",a.checked())("aria-labelledby",a.ariaLabelledBy))},dependencies:[p.mk,p.PC],styles:['@layer primeng{.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}}\n'],encapsulation:2,changeDetection:0})),n})(),ee=(()=>{var t;class n{}return t=n,(0,l.Z)(n,"\u0275fac",function(s){return new(s||t)}),(0,l.Z)(n,"\u0275mod",e.oAB({type:t})),(0,l.Z)(n,"\u0275inj",e.cJS({imports:[p.ez]})),n})(),te=(()=>{var t;class n{}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[$.q,m.u5,m.UX,j,A.JF,p.ez,f.TU,d.p0,h.Tx,b.ot,z.n,U.U$,G.$9,ee]}),n})()}}]);