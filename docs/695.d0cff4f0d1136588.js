"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[695],{1695:(I,D,s)=>{s.r(D),s.d(D,{TasksModule:()=>L});var p=s(6814),m=s(1896),g=s(8816),t=s(5879),k=s(9347),h=s(6223),_=s(9862),T=s(7337);let f=(()=>{var a;class i{constructor(e){this.http=e}getUserTasks(e,o){let l=new _.LE;return Object.entries(o).forEach(([r,u])=>{l=l.append(r,u)}),this.http.get(T.N.baseUrl+"tasks/user-tasks/"+e,{params:l})}completeTask(e){return this.http.put(T.N.baseUrl+"tasks/complete",e)}getDetails(e){return this.http.get(T.N.baseUrl+"tasks/task/"+e)}}return(a=i).\u0275fac=function(e){return new(e||a)(t.LFG(_.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})();var C=s(5219),E=s(2296),d=s(5195);function M(a,i){1&a&&(t.TgZ(0,"div",8)(1,"mat-card")(2,"mat-card-content",9),t._uU(3,"Notes : ..."),t.qZA(),t.TgZ(4,"mat-card-content",10),t._uU(5,"There is no Tasks asigned for you .."),t.qZA(),t.TgZ(6,"mat-card-content",11),t._uU(7,"please call adminstrator to recieve tasks ."),t.qZA()()())}function O(a,i){if(1&a){const n=t.EpF();t.TgZ(0,"mat-card",12)(1,"mat-card-header")(2,"mat-card-title")(3,"span",13),t._uU(4,"Task title : "),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"mat-card-subtitle")(7,"span",14),t._uU(8,"Dead-Line Date "),t.qZA(),t._uU(9),t.qZA()(),t.TgZ(10,"mat-card-content")(11,"p")(12,"span",13),t._uU(13,"Task details : "),t.qZA(),t._uU(14),t.qZA(),t._UZ(15,"p"),t.qZA(),t.TgZ(16,"mat-card-actions")(17,"button",15),t._uU(18,"DETAILS"),t.qZA(),t.TgZ(19,"button",16),t.NdJ("click",function(){const l=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.complate(l))}),t._uU(20,"COMPELATE"),t.qZA()()()}if(2&a){const n=i.$implicit;t.xp6(5),t.Oqu(n.title),t.xp6(4),t.hij(": ",n.deadline,""),t.xp6(5),t.Oqu(n.description),t.xp6(3),t.MGl("routerLink","/tasks/details/",n._id,"")}}const U=[{path:"list",component:(()=>{var a;class i{constructor(e,o,l,r){this.dialog=e,this.fb=o,this.tasksService=l,this.messageService=r,this.displayedColumns=["position","title","user","deadline","status","actions"],this.selectStatus="In-Progress",this.users=[{name:"Moahmed",id:1},{name:"Ali",id:2},{name:"Ahmed",id:3},{name:"Zain",id:4}],this.status=[{name:"Complete",id:1},{name:"In-Prossing",id:2}]}ngOnInit(){this.getUserData(),this.getAllTasks()}getAllTasks(){this.tasksService.getUserTasks(this.userData.userId,{page:1,limit:10,status:this.selectStatus}).subscribe(o=>{this.dataSource=o.tasks,console.log(0==this.dataSource.length)},o=>{this.dataSource=[],console.log(o),this.noData="No Tasks Found Assgined To This ID..."==o.error.message})}getUserData(){let e=JSON.stringify(localStorage.getItem("token"));this.userData=JSON.parse(window.atob(e.split(".")[1]))}complate(e){const l=new g.E("Confirm Action","Are you sure you want to Complete "+e.title+" task ?");this.dialog.open(g.x,{maxWidth:"400px",data:l}).afterClosed().subscribe(u=>{u&&this.tasksService.completeTask({id:e._id}).subscribe(P=>{this.messageService.add({severity:"success",summary:"Success",detail:"Task completed successfuly"}),this.getAllTasks()})})}}return(a=i).\u0275fac=function(e){return new(e||a)(t.Y36(k.uw),t.Y36(h.qu),t.Y36(f),t.Y36(C.ez))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-list-tasks"]],decls:11,vars:2,consts:[[1,"mt-4"],[1,"m-3"],[1,"h3","fw-bold",2,"color","#3d4371"],[1,"h6","text-secondary","fw-bold"],["class","row justify-content-center",4,"ngIf"],[1,"row","justify-content-between"],[1,"h3","mx-3","fw-bold"],["style","min-height: 48%;","class","example-card col-xl-3 col-lg-4 col-md-6 m-2",4,"ngFor","ngForOf"],[1,"row","justify-content-center"],[1,"text-danger","h3","fw-bold"],[1,"text-danger","h2","fw-bold"],[1,"h6","text-secondary"],[1,"example-card","col-xl-3","col-lg-4","col-md-6","m-2",2,"min-height","48%"],[1,"fw-bold",2,"color","#3d4371"],[2,"color","#3d4371"],["mat-button","",1,"text-white","rounded-1",2,"background-color","#3d4371",3,"routerLink"],["mat-button","",1,"text-white","rounded-1",2,"background-color","#3d4371",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content",2),t._uU(3,"Welcone Omar in Feadtured-App"),t.qZA(),t.TgZ(4,"mat-card-content",3),t._uU(5,"Here you will receive all tasks from the admin"),t.qZA()(),t.YNc(6,M,8,0,"div",4),t.TgZ(7,"div",5)(8,"mat-card-content",6),t._uU(9,"your Tasks ..."),t.qZA(),t.YNc(10,O,21,4,"mat-card",7),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngIf",o.noData),t.xp6(4),t.Q6J("ngForOf",o.dataSource))},dependencies:[E.lW,d.a8,d.hq,d.dn,d.dk,d.$j,d.n5,p.sg,p.O5,m.rH],styles:["button[_ngcontent-%COMP%]{color:#fff;margin:0 5px}button.addTask[_ngcontent-%COMP%]{background-color:#ca085a;color:#fff;padding:2px 23px;font-size:20px}[_nghost-%COMP%]     table thead{background-color:#bc1059!important}[_nghost-%COMP%]     table thead .mat-header-cell{color:#fff}.w-20[_ngcontent-%COMP%]{width:20%!important}h2[_ngcontent-%COMP%]{color:#bc1059}.example-card[_ngcontent-%COMP%]{max-width:400px}"]}),i})()},{path:"details/:id",component:(()=>{var a;class i{constructor(e,o,l,r,u,v){this.tasksServices=e,this.router=o,this.route=l,this.dialog=r,this.tasksService=u,this.messageService=v,this.taskId="",console.log(this.route.params.subscribe(P=>{this.taskId=P.id,console.log(this.taskId)}))}ngOnInit(){this.getDetails()}getDetails(){this.tasksServices.getDetails(this.taskId).subscribe(e=>{this.item=e.tasks,console.log(this.item)})}complate(e){const l=new g.E("Confirm Action","Are you sure you want to Complete "+e.title+" task ?");this.dialog.open(g.x,{maxWidth:"400px",data:l}).afterClosed().subscribe(u=>{u&&this.tasksService.completeTask({id:e._id}).subscribe(P=>{this.router.navigate(["/user/main/tasks/list"]),this.messageService.add({severity:"success",summary:"Success",detail:"Task completed successfuly"})})})}}return(a=i).\u0275fac=function(e){return new(e||a)(t.Y36(f),t.Y36(m.F0),t.Y36(m.gz),t.Y36(k.uw),t.Y36(f),t.Y36(C.ez))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-task-details"]],decls:25,vars:4,consts:[[1,"container"],[1,"h3","fw-bold",2,"color","#3d4371"],[1,"imageBox","row","d-felx"],[1,"col-md-3"],["alt","image",2,"max-width","100%",3,"src"],[1,"col-md-9","my-5"],[1,"fs-4","fw-bold","lh-sm",2,"color","#3d4371"],[1,"d-flex","justify-content-between","align-items-baseline","my-3"],[1,"card-title","fw-bold"],[1,"h1","fw-bold",2,"color","#3d4371"],["mat-raised-button","",1,"rounded-2","text-white","h5","mt-2","p-2",2,"background-color","#3d4371",3,"click"],[1,"card-subtitle","mb-2","text-secondary","fw-bold"],[1,"h5","fw-bold",2,"color","#3d4371"],[1,"card-text","mb-2","text-secondary","fw-bold"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"Task details : ..."),t.qZA(),t.TgZ(3,"div",2)(4,"div",3),t._UZ(5,"img",4),t.qZA(),t.TgZ(6,"div",5)(7,"span",6),t._uU(8," Hello dear Omar, I am happy that you are here today. I would like to inform you that this task has been added by the admin to you. When you finish it, you must press Complete to finish it and the admin will receives a notification that the task is completed. Thank you. "),t.qZA()()(),t.TgZ(9,"div",7)(10,"h2",8)(11,"span",9),t._uU(12,"Title : "),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"button",10),t.NdJ("click",function(){return o.complate(o.item)}),t._uU(15,"Complete"),t.qZA()(),t.TgZ(16,"p",11)(17,"span",12),t._uU(18,"Dead-Line Date : "),t.qZA(),t._uU(19),t.qZA(),t._UZ(20,"hr"),t.TgZ(21,"p",13)(22,"span",12),t._uU(23,"Description : "),t.qZA(),t._uU(24),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("src","https://i-task-crud.onrender.com/"+(null==o.item?null:o.item.image),t.LSH),t.xp6(8),t.hij("",null==o.item?null:o.item.title," "),t.xp6(6),t.Oqu(null==o.item?null:o.item.deadline),t.xp6(5),t.Oqu(null==o.item?null:o.item.description))}}),i})()}];let c=(()=>{var a;class i{}return(a=i).\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[m.Bz.forChild(U),m.Bz]}),i})();var A=s(1885),Z=s(7087);let L=(()=>{var a;class i{}return(a=i).\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[A.q,h.u5,h.UX,_.JF,p.ez,c,Z.d]}),i})()},1885:(I,D,s)=>{s.d(D,{q:()=>U});var p=s(4630),m=s(8005),g=s(2296),t=s(9488),k=s(5195),h=s(5986),_=s(9347),T=s(3176),f=s(617),C=s(2032),E=s(7466),d=s(8525),M=s(3566),O=s(5313),b=s(8034),x=s(3680),y=s(5879);let U=(()=>{var c;class A{}return(c=A).\u0275fac=function(L){return new(L||c)},c.\u0275mod=y.oAB({type:c}),c.\u0275inj=y.cJS({imports:[p.Bb,x.XK,m._r,g.ot,t.vV,k.QW,h.p9,_.Is,T.N6,f.Ps,C.c,E.Fk,d.LD,b.FA,M.JX,O.p0]}),A})()}}]);