"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[695],{1695:(O,g,i)=>{i.r(g),i.d(g,{TasksModule:()=>L});var d=i(6814),h=i(1896),f=i(8816),t=i(5879),k=i(9347),m=i(6223),u=i(9862),T=i(7337);let C=(()=>{var e;class a{constructor(s){this.http=s}getUserTasks(s,n){let r=new u.LE;return Object.entries(n).forEach(([l,p])=>{r=r.append(l,p)}),this.http.get(T.N.baseUrl+"tasks/user-tasks/"+s,{params:r})}completeTask(s){return this.http.put(T.N.baseUrl+"tasks/complete",s)}}return(e=a).\u0275fac=function(s){return new(s||e)(t.LFG(u.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();var Z=i(2296),c=i(5195);function v(e,a){1&e&&(t.TgZ(0,"div",6)(1,"mat-card")(2,"mat-card-content",7),t._uU(3,"Notes : ..."),t.qZA(),t.TgZ(4,"mat-card-content",8),t._uU(5,"There is no Tasks asigned for you .."),t.qZA(),t.TgZ(6,"mat-card-content",9),t._uU(7,"please call adminstrator to recieve tasks ."),t.qZA()()())}function x(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-card",10)(1,"mat-card-header")(2,"mat-card-title")(3,"span",11),t._uU(4,"Task title : "),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"mat-card-subtitle")(7,"span",12),t._uU(8,"Dead-Line Date "),t.qZA(),t._uU(9),t.qZA()(),t.TgZ(10,"mat-card-content")(11,"p")(12,"span",11),t._uU(13,"Task details : "),t.qZA(),t._uU(14),t.qZA(),t._UZ(15,"p"),t.qZA(),t.TgZ(16,"mat-card-actions")(17,"button",13),t._uU(18,"DETAILS"),t.qZA(),t.TgZ(19,"button",14),t.NdJ("click",function(){const r=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.complate(r))}),t._uU(20,"COMPELATE"),t.qZA()()()}if(2&e){const o=a.$implicit;t.xp6(5),t.Oqu(o.title),t.xp6(4),t.hij(": ",o.deadline,""),t.xp6(5),t.Oqu(o.description)}}const A=[{path:"list",component:(()=>{var e;class a{constructor(s,n,r){this.dialog=s,this.fb=n,this.tasksService=r,this.displayedColumns=["position","title","user","deadline","status","actions"],this.selectStatus="In-Progress",this.users=[{name:"Moahmed",id:1},{name:"Ali",id:2},{name:"Ahmed",id:3},{name:"Zain",id:4}],this.status=[{name:"Complete",id:1},{name:"In-Prossing",id:2}]}ngOnInit(){this.getUserData(),this.getAllTasks()}getAllTasks(){this.tasksService.getUserTasks(this.userData.userId,{page:1,limit:10,status:this.selectStatus}).subscribe(n=>{this.dataSource=n.tasks,console.log(0==this.dataSource.length)},n=>{this.dataSource=[],console.log(n),this.noData="No Tasks Found Assgined To This ID..."==n.error.message})}getUserData(){let s=JSON.stringify(localStorage.getItem("token"));this.userData=JSON.parse(window.atob(s.split(".")[1]))}complate(s){const r=new f.E("Confirm Action","Are you sure you want to Complete "+s.title+" task ?");this.dialog.open(f.x,{maxWidth:"400px",data:r}).afterClosed().subscribe(p=>{p&&this.tasksService.completeTask({id:s._id}).subscribe(F=>{this.getAllTasks()})})}}return(e=a).\u0275fac=function(s){return new(s||e)(t.Y36(k.uw),t.Y36(m.qu),t.Y36(C))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-tasks"]],decls:7,vars:2,consts:[[1,"mt-4"],[1,"m-3"],[1,"h3","fw-bold",2,"color","#3d4371"],["class","row justify-content-center",4,"ngIf"],[1,"row","justify-content-between"],["style","min-height: 48%;","class","example-card col-xl-3 col-lg-4 col-md-6 m-2",4,"ngFor","ngForOf"],[1,"row","justify-content-center"],[1,"text-danger","h3","fw-bold"],[1,"text-danger","h2","fw-bold"],[1,"h6","text-secondary"],[1,"example-card","col-xl-3","col-lg-4","col-md-6","m-2",2,"min-height","48%"],[1,"fw-bold",2,"color","#3d4371"],[2,"color","#3d4371"],["mat-button","",1,"text-white","rounded-1",2,"background-color","#3d4371"],["mat-button","",1,"text-white","rounded-1",2,"background-color","#3d4371",3,"click"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content",2),t._uU(3,"Welcone Omar in Feadtured-App"),t.qZA()(),t.YNc(4,v,8,0,"div",3),t.TgZ(5,"div",4),t.YNc(6,x,21,3,"mat-card",5),t.qZA()()),2&s&&(t.xp6(4),t.Q6J("ngIf",n.noData),t.xp6(2),t.Q6J("ngForOf",n.dataSource))},dependencies:[Z.lW,c.a8,c.hq,c.dn,c.dk,c.$j,c.n5,d.sg,d.O5],styles:["button[_ngcontent-%COMP%]{color:#fff;margin:0 5px}button.addTask[_ngcontent-%COMP%]{background-color:#ca085a;color:#fff;padding:2px 23px;font-size:20px}[_nghost-%COMP%]     table thead{background-color:#bc1059!important}[_nghost-%COMP%]     table thead .mat-header-cell{color:#fff}.w-20[_ngcontent-%COMP%]{width:20%!important}h2[_ngcontent-%COMP%]{color:#bc1059}.example-card[_ngcontent-%COMP%]{max-width:400px}"]}),a})()},{path:"details/:id",component:(()=>{var e;class a{constructor(){}ngOnInit(){}}return(e=a).\u0275fac=function(s){return new(s||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-task-details"]],decls:13,vars:0,consts:[[1,"container"],[1,"imageBox"],["alt","",1,"w-100"],[1,"d-flex","justify-content-between","align-items-baseline","my-3"],[1,"card-title"],["mat-raised-button","","color","warn"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3)(4,"h1",4),t._uU(5,"title"),t.qZA(),t.TgZ(6,"button",5),t._uU(7,"Complete"),t.qZA()(),t.TgZ(8,"p",6),t._uU(9,"Dead-Line Date : 31/12/2022"),t.qZA(),t._UZ(10,"hr"),t.TgZ(11,"p",7),t._uU(12,"description"),t.qZA()())},styles:[".imageBox[_ngcontent-%COMP%], .imageBox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}"]}),a})()}];let D=(()=>{var e;class a{}return(e=a).\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(A),h.Bz]}),a})();var b=i(1885),y=i(7087);let L=(()=>{var e;class a{}return(e=a).\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[b.q,m.u5,m.UX,u.JF,d.ez,D,y.d]}),a})()}}]);